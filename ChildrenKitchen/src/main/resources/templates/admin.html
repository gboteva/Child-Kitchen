<!DOCTYPE html>
<html lang="en"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
  <head th:replace="~{fragments/custom-head::custom-head}">
  </head>
  <body id="e-kitchen">
    <header th:replace="~{fragments/e-nav::e-nav}">
    </header>

    <main>
      <h2>Добре дошъл, администратор!</h2>
      <section class="admin-panel">
        <div class="actions shadow-ctn">
          <h4>Екшън панел</h4>
          <ul role="list">
            <li class="action">
              <button class="main-btn"><a th:href="@{/admin/add-menu}">Добави или редактирай седмично меню</a></button>
            </li>
            <li class="action">
              <button class="main-btn"><a th:href="@{/admin/view-menu-by-date}">Виж меню за дата</a></button>
            </li>
              <li class="action">
                  <button class="main-btn"><a th:href="@{/admin/add-recipe}">Добави рецепта</a></button>
              </li>
            <li class="action"><button class="main-btn"><a th:href="@{/admin/add-delete-order}">Добави заявка</a></button></li>
            <li class="action"><button class="main-btn"><a th:href="@{/admin/add-delete-order}">Изтрий заявка</a></button></li>
          </ul>
        </div>

        <article class="requests shadow-ctn">
        
            <h4>СПРАВКИ</h4>

           <div class="wrapper">
                <div class="request shadow-ctn">
                    <h3>Заявки по пунктове и по възраст</h3>
                    <form action="">
                    <label for="date-from" >Избери дата от:</label>
                    <input type="date" id="date-from"/>
                    <label for="date-to">Избери дата до:</label>
                    <input type="date" id="date-to" />
                    <label for="puncts">Избери пункт:</label>
                    <select name="puncts" id="puncts">
                        <option value="Kids_Kitchen" selected>Детска кухня</option>
                        <option value="9thKv">9-ти квартал</option>
                        <option value="DG_Temenuga">ДГ Теменуга</option>
                        <option value="DG_TretiMart">ДГ Трети март</option>
                        <option value="DG_Drujba">ДГ Дружба</option>
                        <option value="DG_Slaveyche">ДГ Славейче</option>
                        <option value="DG_Nezabravka">ДГ Незабравка</option>
                        <option value="DG_Kalina">ДГ Калина</option>
                        <option value="DY_Latinka">ДЯ Латинка</option>
                        <option value="DY_Drujba">ДЯ Дружба</option>
                        <option value="DY_Mir">ДЯ Мир</option>
                        <option value="All">Всички</option>
                    </select>
                    <label for="ageGroup">Избери възрастова група</label>
                    <select name="ageGroup" id="ageGroup">
                        <option value="littleKids" selected>10 МЕСЕЦА - 1 ГОДИНА</option>
                        <option value="bigKids">1 ГОДИНА - 3 ГОДИНИ</option>
                    </select>
                    </form>
                    
                    <button class="main-btn" onclick="showInfoFromDB()">Покажи</button>
                </div>

                <div class="allergicKids shadow-ctn">
                    <h3>Списък на алергичните деца</h3>
                    <table class="allergic-table">
                        <thead>
                            <th>Име на детето</th>
                            <th>Обслужващ пункт</th>
                            <th>Възрастова група</th>
                            <th>Алергия към:</th>
                        </thead>
                        <tbody>
                            <td id="allergicKidName">Петко Иванов</td>
                            <td id="allergicPoint">ДЯ Мир</td>
                            <td id="allergicAgeGroup">1 ГОДИНА - 3 ГОДИНИ</td>
                            <td id="allergicList">Глутен</td>
                        </tbody>
                    </table>
                </div>
           </div>
        </article>

        <article class="requests shadow-ctn" id="reference">
          <h4>ИНФОРМАЦИЯ</h4>
    
            <div class="info-from-db">
              <table class="one-punct shadow-ctn">
                  <thead>
                      <th>от дата</th>
                      <th>до дата</th>
                      <th>възрастова група</th>
                      <th>пункт</th>
                      <th>брой заявки</th>
                      <th>в т.ч. алергични</th>
                  </thead>
                  <tbody>
                     <tr>
                      <td id="fromDate">28.08.2023</td>
                      <td id="toDate">28.08.2023</td>
                      <td id="ageGroup">10 МЕСЕЦА - 1 ГОДИНА</td>
                      <td id="point">ДЯ Дружба</td>
                      <td id="countOrders">240</td>
                      <td id="countAllergicOrders">5
                        <button type="button" class="btn btn-success" data-bs-toggle="modal" data-bs-target="#staticBackdrop">
                          Виж
                        </button>
                      </td>
                     </tr>
                     <tr>
                      <td id="from">28.08.2023</td>
                      <td id="to">28.08.2023</td>
                      <td id="group">1 ГОДИНА - 3 ГОДИНИ</td>
                      <td id="punct">ДЯ Дружба</td>
                      <td id="count">180</td>
                      <td id="countAllergicOrdersByPoint">5 <button type="button" class="btn btn-success" data-bs-toggle="modal" data-bs-target="#staticBackdrop">
                        Виж
                      </button></td>
                     </tr>
                  </tbody>
                  <tr>
                      <td></td>
                      <td></td>
                      <td></td>
                      <th>Общо: </th>
                      <th id="totalCountOnePunct">420</th>
                      <td></td>
                  </tr>
                  <tr>
                      <td></td>
                      <td></td>
                      <td></td>
                      <th>В т.ч алергични: </th>
                      <td></td>
                      <th id="totalCountAllergicOnePunct">10</th>
                  </tr>
              </table>
  
              <table class="all-puncts shadow-ctn">
                  <thead>
                      <th>Пункт</th>
                      <th>10 МЕСЕЦА - 1 ГОДИНА</th>
                      <th>1 ГОДИНА - 3 ГОДИНИ</th>
                      <th>АЛЕРГИЧНИ</th>
                  </thead>
                  <tbody>
                      <tr>
                          <td id="punct">Детска кухня</td>
                          <td id="count-small">120</td>
                          <td id="count-big">90</td>
                          <td id="count-allergic">7 <button type="button" class="btn btn-success" data-bs-toggle="modal" data-bs-target="#staticBackdrop">
                            Виж
                          </button></td>
                      </tr>
                      <tr>
                          <td id="punct">9-ти квартал</td>
                          <td id="count-small">54</td>
                          <td id="count-big">67</td>
                          <td id="count-allergic">2 <button type="button" class="btn btn-success" data-bs-toggle="modal" data-bs-target="#staticBackdrop">
                            Виж
                          </button></td>
                      </tr>
                      <tr>
                          <th>Общо: </th>
                          <th id="totalCountSmallAll">174</th>
                          <th id="totalCountBigAll">147</th>
                          <th id="totalCountAllergicAll">9</th>
                      </tr>
                  </tbody>
              </table>
            </div>
           
        </article>
         
      </section>


     <!-- Modal -->
      <div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog modal-dialog-centered modal-lg">
          <div class="modal-content">
            <div class="modal-header">
              <h1 class="modal-title fs-5" id="staticBackdropLabel">Алергични деца</h1>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <table class="allergic-table">
                <thead>
                    <th>Име на детето</th>
                    <th>Обслужващ пункт</th>
                    <th>Възрастова група</th>
                    <th>Алергия към:</th>
                </thead>
                <tbody>
                    <td id="allergic-name">Петко Иванов</td>
                    <td id="allergic-punct">ДЯ Мир</td>
                    <td id="allergic-age-group">1 ГОДИНА - 3 ГОДИНИ</td>
                    <td id="allergic-лист">Глутен</td>
                </tbody>
            </table>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Затвори</button>
            </div>
          </div>
        </div>
      </div>


    </main>

  <script
  src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.min.js"
  integrity="sha384-Rx+T1VzGupg4BHQYs2gCW9It+akI2MM/mndMCy36UVfodzcJcF0GGLxZIzObiEfa"
  crossorigin="anonymous"
></script>
    <script th:src="@{/js/toggleFunctions.js}"></script>
  </body>
</html>
